<div id="bonos-container" class="page-container">
  <div class="page-title">
    <label>Selection Test</label>
  </div>

  <div>
    <table mat-table matSort [dataSource]="items">
      <ng-container matColumnDef="select">
        <th scope="col" mat-header-cell *matHeaderCellDef>
          <mat-checkbox [disabled]="items?.length===0"
                        (change)="$event ? selection.masterToggle(items) : null"
                        [checked]="selection.isAllSelected(items)"
                        [indeterminate]="selection.hasValue() && !selection.isAllSelected(items)">
          </mat-checkbox>
        </th>
        <td [attr.data-label]="'Seleccionar'" mat-cell *matCellDef="let row">
          <ngpl-skeleton width="25px" height="25px" shape="circle">
            <mat-checkbox (click)="$event.stopPropagation()"
                          (change)="$event ? selection.toggle(row) : null"
                          [checked]="selection.isSelected(row)">
            </mat-checkbox>
          </ngpl-skeleton>
        </td>
      </ng-container>
      <!-- Numero Column -->
      <ng-container matColumnDef="rut">
        <th class="px-2" mat-header-cell *matHeaderCellDef mat-sort-header>Rut
        </th>
        <td class="px-2" mat-cell *matCellDef="let element">
          <ngpl-skeleton [isLoading]="searching" width="75%" height="15px">
            {{element?.rut }}
          </ngpl-skeleton>
        </td>
      </ng-container>

      <!-- Nombre Column -->
      <ng-container matColumnDef="nombre">
        <th class="px-2" mat-header-cell *matHeaderCellDef mat-sort-header>Nombre y Apellidos</th>
        <td class="px-2" mat-cell *matCellDef="let item">
          <ngpl-skeleton [isLoading]="searching" width="75%" height="15px">
            {{item?.nombre}}
          </ngpl-skeleton>
        </td>
      </ng-container>


      <ng-container matColumnDef="movimiento">
        <th class="px-2" mat-header-cell *matHeaderCellDef mat-sort-header>Movimiento</th>
        <td class="px-2" mat-cell *matCellDef="let item">
          <ngpl-skeleton [isLoading]="searching" width="75%" height="15px">
            {{item?.movimiento}}
          </ngpl-skeleton>
        </td>
      </ng-container>
      <ng-container matColumnDef="valor">
        <th class="px-2" mat-header-cell *matHeaderCellDef mat-sort-header>Valor</th>
        <td class="px-2" mat-cell *matCellDef="let item">
          <ngpl-skeleton [isLoading]="searching" width="75%" height="15px">
            {{item?.valor}}
          </ngpl-skeleton>
        </td>
      </ng-container>


      <!--					Los estados serÃ­an pendiente y aprobado , pendiente en rojo y aprobado en verde.-->
      <ng-container matColumnDef="estado">
        <th class="text-center px-2" scope="col" mat-header-cell *matHeaderCellDef mat-sort-header>
          Estado
        </th>
        <td class="text-center px-2" mat-cell [attr.data-label]="'Estado'" *matCellDef="let item">
          <ngpl-skeleton [isLoading]="searching" height="24px" width="24px" shape="circle">
            <mat-icon
              class="mat-18 fc-greenblue d-flex mx-auto align-items-center mat-18 pr-3 fs-normal"
              matTooltip="APROBADO" *ngIf="item?.estado =='OK'">check_circle
            </mat-icon>
            <mat-icon
              class="mat-18 disabled d-flex mx-auto align-items-center mat-18 pr-3 fs-normal"
              matTooltip="PENDIENTE" *ngIf="item?.estado=='PENDIENTE'">check_circle
            </mat-icon>

            <!--								<mat-chip-list>-->
            <!--									<mat-chip-->
            <!--											[class.ok]=" item?.estado =='OK'"-->
            <!--											[class.pointer]=" item?.estado=='OK' || item?.estado=='ERROR'"-->
            <!--											[class.error]="item?.estado==='ERROR'"-->
            <!--											[class.progress]="item?.estado=='PENDIENTE'"-->
            <!--									>-->
            <!--										{{(item?.estado == 'OK' ? 'Completado' : item?.estado) | uppercase}}-->
            <!--									</mat-chip>-->
            <!--								</mat-chip-list>-->
          </ngpl-skeleton>
        </td>
      </ng-container>

      <ng-container matColumnDef="accion">
        <th class="text-center pl-2 pr-3" mat-header-cell *matHeaderCellDef>Opciones</th>
        <td class="text-center pl-2 pr-3" mat-cell *matCellDef="let item">
          <ngpl-skeleton [isLoading]="searching" height="24px" width="24px" shape="circle"
                         *ngIf="item?.tipo !=='PRESTAMO'">
            <mat-icon class="mat-18 more" [matMenuTriggerFor]="menuRef">more_vert
            </mat-icon>
          </ngpl-skeleton>

          <mat-menu #menuRef="matMenu" xPosition="before">
            <!--										<button mat-menu-item [routerLink]="['Anticipo', item?.id]"-->
            <!--										        [queryParams]="{anno:rangeDateCtrl?.value?.anno, mes:rangeDateCtrl?.value?.mes, preview:true}">-->
            <!--											<mat-icon class="mat-18">find_in_page</mat-icon>-->
            <!--											<span>Vista previa</span>-->
            <!--										</button>-->

            <button mat-menu-item matTooltip="Eliminar" (click)="eliminar(item)">
              <mat-icon class="mat-18">delete</mat-icon>
              <span>Eliminar</span>
            </button>

          </mat-menu>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
    </table>
    <mat-paginator></mat-paginator>
  </div>
</div>
